<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="style.css">
<meta charset=utf-8 />
<title>Pöhinaattori</title>
<h1>Pöhinaattori</h1>
</head>
<body onload= "draw(8)">
<div id="block">
<canvas id="canvas" width="600" height="500"></canvas>
<a id="download" download="pöhinä.png">
<button style="position: absolute; bottom:30px; left:45%;" onclick="download()">Tallenna Pöhinä</button>
</a>
</div>
<div id="controls">
<button id="pohina" onclick="main()">Uusi Pöhinä</button>
<form>
<input type="radio" name="shape" value="Kolmio"> Kolmio<br>
<input type="radio" name="shape" value="Neliö"> Neliö<br>
<input type="radio" name="shape" value="Viisikulmio"> Viisikulmio<br>
<input type="radio" name="shape" value="Kuusikulmio"> Kuusikulmio<br>
<input type="radio" name="shape" value="Pyramidi"> Pyramidi<br>
<input type="radio" name="shape" value="Venn-diagrammi"> Venn-diagrammi<br>
<input type="radio" name="shape" value="Jack Barker"> Jack Barker<br>
<input type="radio" name="shape" value="Satunnainen" checked> Satunnainen<br>
</form>
</div>
<script>
var colors = ["red", "green", "blue", "yellow", "purple", "cyan", "teal", "azure", "bisque", "thistle"];
var poh = ["BI", "Logistics", "Outsourcing", "Offshoring", "IOT", "Omnichannel", "Holistic", "Hyperlocal", "Born Global", "B2B", "B2C", "C2C", "Big Data", "Advertainment", "Disruptor", "Freemium", "Value Added", "UGC", "Insourcing", "Web 2.0", "Industry 4.0", "Analytics", "Touchpoint", "Leverage", "Innovation", "ROI", "Fullfilment", "Agile", "Lean", "Sales", "Growth"];
var canvas = document.getElementById('canvas');
var shapes = document.getElementsByName('shape');
function main() {
	for(i = 0; i < shapes.length; i++){
		if(shapes[i].checked){
			var number = i + 1;
		}
	}
	if (number == 8){
		time(0, number);
	}else{
		draw(number);
	}
}
function time(times, number){
	if (times < 16){
		times++;
		setTimeout(function(){
			draw(number);
			time(times, number);
		}, 150);
	}else if (times < 19){
		times++;
		setTimeout(function(){
			draw(number);
			time(times, number);
		}, 250);
	}else if (times < 20){
		times++;
		setTimeout(function(){
			draw(number);
			time(times, number);
		}, 750);
	}
}
function draw(number) {
  if (canvas.getContext) {
	if(number == 8){
		number = random = Math.random() * (8 - 1) + 1;
	}
    var context = canvas.getContext('2d');
	var color = Math.round(Math.random() * 9);
	var len = poh.length - 1;
	context.clearRect(0, 0, canvas.width, canvas.height);
	context.font = "20px Arial";
	context.textAlign = "center";
	if (number < 2){ //triangle
		context.fillStyle = "black"
		context.beginPath();
		context.moveTo(125,450);
		context.lineTo(475,450);
		context.lineTo(300,147);
		context.fill();
		context.beginPath();
		context.moveTo(127,448);
		context.lineTo(473,448);
		context.lineTo(300,149);
		context.fillStyle = colors[color];
		context.fill();
		context.fillStyle = "black";
		context.fillText(poh[Math.round(Math.random() * len)],125,480);
		context.fillText(poh[Math.round(Math.random() * len)],475,480);
		context.fillText(poh[Math.round(Math.random() * len)],300,137);
	}else if (number < 3){ //rectangle
		context.fillStyle = "black"
		context.beginPath();
		context.moveTo(150,150);
		context.lineTo(150,450);
		context.lineTo(430,450);
		context.lineTo(430,150);
		context.fill();
		context.beginPath();
		context.moveTo(152,152);
		context.lineTo(152,448);
		context.lineTo(428,448);
		context.lineTo(428,152);
		context.fillStyle = colors[color];
		context.fill();
		context.fillStyle = "black";
		context.fillText(poh[Math.round(Math.random() * len)],150,140);
		context.fillText(poh[Math.round(Math.random() * len)],150,480);
		context.fillText(poh[Math.round(Math.random() * len)],430,480);
		context.fillText(poh[Math.round(Math.random() * len)],430,140);
	}else if (number < 4){ //pentagon
		context.fillStyle = "black"
		context.beginPath();
		context.moveTo(175,450);
		context.lineTo(98,212);
		context.lineTo(300,65);
		context.lineTo(502,212);
		context.lineTo(425,450);
		context.fill();
		context.beginPath();
		context.moveTo(177,448);
		context.lineTo(100,212);
		context.lineTo(300,67);
		context.lineTo(500,212);
		context.lineTo(423,448);
		context.fillStyle = colors[color];
		context.fill();
		context.fillStyle = "black";
		context.fillText(poh[Math.round(Math.random() * len)],175,480);
		context.fillText(poh[Math.round(Math.random() * len)],58,212);
		context.fillText(poh[Math.round(Math.random() * len)],300,55);
		context.fillText(poh[Math.round(Math.random() * len)],530,212);
		context.fillText(poh[Math.round(Math.random() * len)],425,480);
	}else if (number < 5){ //hexagon
		context.fillStyle = "black"
		context.beginPath();
		context.moveTo(200,450);
		context.lineTo(100,277);
		context.lineTo(200,104);
		context.lineTo(400,104);
		context.lineTo(500,277);
		context.lineTo(400,450);
		context.fill();
		context.beginPath();
		context.moveTo(202,448);
		context.lineTo(102,277);
		context.lineTo(200,106);
		context.lineTo(400,106);
		context.lineTo(498,277);
		context.lineTo(398,448);
		context.fillStyle = colors[color];
		context.fill();
		context.fillStyle = "black";
		context.fillText(poh[Math.round(Math.random() * len)],200,480);
		context.fillText(poh[Math.round(Math.random() * len)],60,277);
		context.fillText(poh[Math.round(Math.random() * len)],200,94);
		context.fillText(poh[Math.round(Math.random() * len)],400,94);
		context.fillText(poh[Math.round(Math.random() * len)],540,277);
		context.fillText(poh[Math.round(Math.random() * len)],400,480);
	}else if (number < 6){ //pyramid
		context.fillStyle = "black"
		context.beginPath();
		context.moveTo(125,450);
		context.lineTo(475,450);
		context.lineTo(300,147);
		context.fill();
		context.beginPath();
		context.moveTo(127,448);
		context.lineTo(185,349);
		context.lineTo(415,349);
		context.lineTo(473,448);
		context.fillStyle = colors[color];
		color = Math.round(Math.random() * 9);
		context.fill();
		context.beginPath();
		context.moveTo(185,347);
		context.lineTo(415,347);
		context.lineTo(356,247);
		context.lineTo(244,247);
		context.fillStyle = colors[color];
		color = Math.round(Math.random() * 9);
		context.fill();
		context.beginPath();
		context.moveTo(244, 245);
		context.lineTo(300, 149);
		context.lineTo(356, 245);
		context.fillStyle = colors[color];
		context.fill();
		context.fillStyle = "black";
		context.fillText(poh[Math.round(Math.random() * len)],300,400);
		context.fillText(poh[Math.round(Math.random() * len)],300,301);
		context.fillText(poh[Math.round(Math.random() * len)],300,220);
	}else if (number < 7){ //venn-diagram
		context.fillStyle = colors[color];
		context.beginPath();
		context.arc(300, 165, 125, 0, 2*Math.PI);
		context.fill();
		context.beginPath();
		context.arc(379, 325, 125, 0, 2*Math.PI);
		context.fill();
		context.beginPath();
		context.arc(221, 325, 125, 0, 2*Math.PI);
		context.fill();
		context.beginPath();
		context.arc(300, 165, 125, 0, 2*Math.PI);
		context.stroke();
		context.beginPath();
		context.arc(379, 325, 125, 0, 2*Math.PI);
		context.stroke();
		context.beginPath();
		context.arc(221, 325, 125, 0, 2*Math.PI);
		context.stroke();
		context.fillStyle = "black";
		context.fillText(poh[Math.round(Math.random() * len)],300,173);
		context.fillText(poh[Math.round(Math.random() * len)],379,333);
		context.fillText(poh[Math.round(Math.random() * len)],221,333);
		context.fillText(poh[Math.round(Math.random() * len)],300,273);
	}else{ //Jack Barker
		context.fillStyle = "black"
		context.beginPath();
		context.moveTo(150,150);
		context.lineTo(150,450);
		context.lineTo(430,450);
		context.lineTo(430,150);
		context.fill();
		context.beginPath();
		context.moveTo(152,152);
		context.lineTo(428,152);
		context.lineTo(152,448);
		context.fillStyle = colors[color];
		context.fill();
		color = Math.round(Math.random() * 9);
		context.beginPath();
		context.moveTo(428,152);
		context.lineTo(428,448);
		context.lineTo(152,448);
		context.fillStyle = colors[color];
		context.fill();
		context.fillStyle = "black";
		context.fillText(poh[Math.round(Math.random() * len)],290,140);
		context.fillText(poh[Math.round(Math.random() * len)],290,480);
		context.save();
		context.rotate(Math.PI/2);
		context.translate(0,-600);
		context.fillText(poh[Math.round(Math.random() * len)],300,160);
		context.rotate(Math.PI);
		context.translate(-500,-600);
		context.fillText(poh[Math.round(Math.random() * len)],200,140);
		context.rotate(Math.PI/4);
		context.translate(30,70);
		context.fillText(poh[Math.round(Math.random() * len)],315, 0);
		context.restore();
	}
}
}
function download() {
		var download = document.getElementById("download");
		var image = document.getElementById("canvas").toDataURL("image/png")
		.replace("image/png", "image/octet-stream");
		download.setAttribute("href", image);
}
</script>
</body>
</html>